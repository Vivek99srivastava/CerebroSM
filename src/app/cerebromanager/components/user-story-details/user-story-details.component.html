
<mat-tab-group backgroundColor="none" mat-stretch-tabs>
    <mat-tab label="User Story Details" class="container" >
        
        <mat-card  style="margin:20px;" class="mat-elevation-z5" >
            <mat-toolbar color="primary">
                <mat-toolbar-row>
                          <span class="example-spacer"></span>
                          <mat-icon class="example-icon">speaker_notes</mat-icon>&nbsp;&nbsp;
                          <span>User Story Details</span>
                </mat-toolbar-row>
              </mat-toolbar>
              <br> 
            
              <div class="setform">

                  <mat-dialog-content class="mat-typography">
                    <form class="example-form">
                          <mat-form-field class="example-full-width25" >
                              <input matInput placeholder="Feature Name" [formControl]="fname" required>
                              <mat-error *ngIf="fname.invalid">{{getErrorfnameMessage()}}</mat-error>
                          </mat-form-field>
                        
                          <mat-form-field class="example-full-width25" >
                            <input matInput type="number" placeholder="Story Points" min="0" width="50px">
 
                          </mat-form-field>

                          <mat-form-field class="example-full-width25">
                              <mat-select placeholder="Status" [(ngModel)]="selectedValue" name="status">
                                 
                                 </mat-select>
                           </mat-form-field>

                           <mat-form-field class="example-full-width25">
                              <mat-select placeholder="Assigned To" [(ngModel)]="selectedValue" name="assignedto">
                                 
                                 </mat-select>
                           </mat-form-field>
                           <!-- space--> 
                
                          
<br><br>               
                          <mat-form-field class="example-full-width25">
                              <input matInput placeholder="Requestor Name">
                          </mat-form-field>
                                       <!-- space-->
                         <mat-form-field class="example-full-width25">
                              <input matInput placeholder="Enter your email" [formControl]="email" required>
                                <mat-error *ngIf="email.invalid">{{getErrorMessage()}}</mat-error>
                         </mat-form-field>

                
                         <mat-form-field class="example-full-width25">
                             <input matInput placeholder="Alternate email" [formControl]="email1" >
                              <mat-error *ngIf="email1.invalid">{{getErroraltMessage()}}</mat-error>
                         </mat-form-field>
                  
              
                                            <!-- space-->
              
                        <mat-form-field class="example-full-width25">
                            <input matInput placeholder="Phone Number">
                               <mat-icon matSuffix>phone</mat-icon>
                      
                        </mat-form-field>

                        <br><br>
              
                        <mat-form-field class="example-full-width25">
                            <mat-select placeholder="Priority" [(ngModel)]="selectedValue" name="feature" required>
                               <mat-option *ngFor="let feature of features" [value]="feature.value">
                                 {{feature.viewValue}}
                                </mat-option>
                               </mat-select>
                         </mat-form-field>
                        <br><br>
              
              
                       <mat-form-field class="example-full-width2">
                         <textarea matInput placeholder="Description" [formControl]="description" required style="height: 70px"></textarea>
                         <mat-error *ngIf="description.invalid">{{getErrordescribe()}}</mat-error>
                       </mat-form-field>
                       
                
                       
                       <br><br>

                       <mat-form-field class="example-full-width2">
                          <textarea matInput placeholder="Acceptance Criteria" required style="height: 100px"></textarea>
                          
                        </mat-form-field>

                      <div class="container">Attachment
                            <button mat-button color="warn" (click)="onClick()">
                              <mat-icon>file_upload</mat-icon>
                                  {{text}}
                            </button>
                    <br/>
                          <ul>
                            <li *ngFor="let file of files" [@fadeInOut]="file.state">
                            <mat-progress-bar [value]="file.progress"></mat-progress-bar>
                             <span id="file-label">
                                        {{file.data.name}}
                                <a title="Retry" (click)="retryFile(file)" *ngIf="file.canRetry">
                                <mat-icon>refresh</mat-icon>
                                </a>
                                <a title="Cancel" (click)="cancelFile(file)" *ngIf="file.canCancel">
                                <mat-icon>cancel</mat-icon>
                                 </a>
                             </span>
                          </li>
                         </ul>
                
                       <input type="file" id="fileUpload" name="fileUpload" multiple="multiple" accept="{{accept}}" style="display:none;" />
                    
                  </div>
                        <mat-dialog-actions class="buttons">
                            <button mat-flat-button color="warn" [routerLink]="['/']" >Cancel</button>&nbsp;
                            <button mat-raised-button color="primary" [mat-dialog-close]="true" cdkFocusInitial>Submit</button>
                        </mat-dialog-actions>
                </form>
                
                 <br>
                
                </mat-dialog-content>
              
                 
                  </div>
    
        <!--display success message-->
        <div [hidden]="!submitted">
            <h4>You submitted successfully!</h4>
            <mat-dialog-actions class="buttons">
                <button mat-flat-button color="warn" [routerLink]="['/']" >Create again</button>&nbsp;
                
            </mat-dialog-actions>
          </div>
    <br/>
    
    
      </mat-card>

    </mat-tab>

    <mat-tab label="Attachment">
        

        <mat-card  style="margin:20px;" class="mat-elevation-z5" >
            <mat-toolbar color="primary">
                <mat-toolbar-row>
                          <span class="example-spacer"></span>
                          <mat-icon class="example-icon">speaker_notes</mat-icon>&nbsp;&nbsp;
                          <span>Attachments</span>
                </mat-toolbar-row>
              </mat-toolbar><br>
          <div class="setform" [hidden]="submitted">
            <mat-dialog-content class="mat-typography">
              <form class="example-form" (ngSubmit)="onSubmit()">
          <div class="container">Attachment
            <button mat-button color="warn" (click)="onClick()">
                <mat-icon>file_upload</mat-icon>
                {{text}}
            </button>
        <br/>
        <ul>
          <li *ngFor="let file of files" [@fadeInOut]="file.state">
            <mat-progress-bar [value]="file.progress"></mat-progress-bar>
             <span id="file-label">
              {{file.data.name}}
                <a title="Retry" (click)="retryFile(file)" *ngIf="file.canRetry">
                  <mat-icon>refresh</mat-icon>
                </a>
                <a title="Cancel" (click)="cancelFile(file)" *ngIf="file.canCancel">
                  <mat-icon>cancel</mat-icon>
                </a>
              </span>
            </li>
         </ul>
    
        <input type="file" id="fileUpload" name="fileUpload" multiple="multiple" accept="{{accept}}" style="display:none;" />
        
      </div>
              </form>
            </mat-dialog-content>
          </div>
          <br><br>

          <mat-form-field class="backlog-filter">
            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Quick Search">
          </mat-form-field>
          
          <mat-icon>search</mat-icon>
      
          
          <div class="mat-elevation-z8" class="tablelayout">
                  <table mat-table [dataSource]="dataSource3" matSort>
      
                     
                     
      
                    <!-- Log -->
                      <ng-container matColumnDef="comments">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header class="headercell"> Attachment  </th>
                      <td mat-cell *matCellDef="let row" > {{row.comments}}.png </td>
                      </ng-container>
      
                    <!-- Log Type -->
                      <ng-container matColumnDef="user">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header class="headercell"> User </th>
                      <td mat-cell *matCellDef="let row"> {{row.user}} </td>
                      </ng-container>
                      
                      
      
                    <!-- Created Date -->
                       <ng-container matColumnDef="createdDate">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="headercell"> Created Date</th>
                        <td mat-cell *matCellDef="let row"> 
                          {{row.createdDate}} </td>
                        </ng-container>
  
                       
                    <tr mat-header-row *matHeaderRowDef="displayedColumns3"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns3;">
                    </tr>
                  </table>
      
        <mat-paginator [pageSizeOptions]="[5, 10, 20, 50, 100]"></mat-paginator>
          </div>
          </mat-card>
  </mat-tab>
    
    <mat-tab label="Manage Sub Tasks">
        

          <mat-card  style="margin:20px;" class="mat-elevation-z5" >
              <mat-toolbar color="primary">
                  <mat-toolbar-row>
                            <span class="example-spacer"></span>
                            <mat-icon class="example-icon">speaker_notes</mat-icon>&nbsp;&nbsp;
                            <span>Manage Sub Tasks</span>
                  </mat-toolbar-row>
                </mat-toolbar><br>
            
  
                <div class="setform" [hidden]="submitted">
                    <mat-dialog-content class="mat-typography">
                      <form class="example-form" (ngSubmit)="onSubmit()">
                                  <!-- feature name -->
                                  <mat-form-field class="example-full-width25">
                                    <input matInput placeholder="User Story Id" id="userstoryId"  name="userstoryId" value="US-1" readonly >
                                    
                                  </mat-form-field>
                                                     
                                  <br>
                                  <!-- description -->
                                  <mat-form-field class="example-full-width2">
                                    <textarea matInput placeholder="Description" id="description"  name="description" style="height: 100px;"  readonly></textarea>
                                  </mat-form-field>
                                
                                   <br>

                                   <mat-form-field class="example-full-width2">
                                      <textarea matInput placeholder="Sub Task" id="subtask"  name="subtask" ></textarea>
                                    </mat-form-field>
                                  
                                     <br>
                    
                                     <mat-form-field class="example-full-width25">
                                        <mat-select placeholder="Assigned To" name="assignedTo" required>
                                          <mat-option *ngFor="let assigned of assignedTo" [value]="assigned.value">
                                          {{assigned.viewValue}}
                                          </mat-option>
                                        </mat-select>
                                      </mat-form-field>
                                    <br>
                   
                    
                                  <br>
                                  <!-- buttons -->
                                  
                                <mat-dialog-actions class="primary" >
                                    <button mat-flat-button color="primary" [routerLink]="['/']" >Cancel</button>&nbsp;
                                    <button type="submit" mat-raised-button color="primary"  >Save</button>&nbsp;
                                    
                                </mat-dialog-actions>
                          </form>
                        </mat-dialog-content>
                        <br>

                        <div class="mat-elevation-z8" class="tablelayout">
                            <table mat-table [dataSource]="dataSource2" matSort>
                
                               
                               
                
                              <!-- Log -->
                                <ng-container matColumnDef="subtask">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header class="headercell"> Sub Task  </th>
                                <td mat-cell *matCellDef="let row" > {{row.subtask}} </td>
                                </ng-container>
                
                              <!-- Log Type -->
                                <ng-container matColumnDef="assignedTo">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header class="headercell"> Assigned To </th>
                                <td mat-cell *matCellDef="let row"> {{row.assignedTo}} </td>
                                </ng-container>
                                
                                
            
                                 
                              <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
                              <tr mat-row *matRowDef="let row; columns: displayedColumns2;">
                              </tr>
                            </table>
                
                  <mat-paginator [pageSizeOptions]="[5]"></mat-paginator>
                    </div>
                      </div>
            
            </mat-card>
    </mat-tab>

    <mat-tab label="Add Issues">
        

        <mat-card  style="margin:20px;" class="mat-elevation-z5" >
            <mat-toolbar color="primary">
                <mat-toolbar-row>
                          <span class="example-spacer"></span>
                          <mat-icon class="example-icon">speaker_notes</mat-icon>&nbsp;&nbsp;
                          <span>Add Issues</span>
                </mat-toolbar-row>
              </mat-toolbar><br>
          
          
              <div class="setform" [hidden]="submitted">
                  <mat-dialog-content class="mat-typography">
                    <form class="example-form" (ngSubmit)="onSubmit()">
                                <!-- feature name -->
                                <mat-form-field class="example-full-width">
                                    
                                        <input matInput placeholder="User Story #" id="UserstoryId"  name="UserstoryId" value="US-1" readonly >
                                        
                                      
                                  </mat-form-field>
                                
                                  <mat-form-field class="example-full-width1">
                                    
                                      <input matInput placeholder="Application" id="Application"  name="Application" value="WARP" readonly >
                                      
                                    
                                </mat-form-field>
                                    <br><br>
                
                                  <mat-form-field class="example-full-width">
                                      <mat-select placeholder="Issue Type" name="issueType" required>
                                        <mat-option *ngFor="let issueType of issueTypes" [value]="issueType.value">
                                        {{issueType.viewValue}}
                                        </mat-option>
                                      </mat-select>
                                    </mat-form-field>

                                    <mat-form-field class="example-full-width1">
                                        <mat-select placeholder="Assigned To" name="assignedTo" required>
                                          <mat-option *ngFor="let assigned of assignedTo" [value]="assigned.value">
                                          {{assigned.viewValue}}
                                          </mat-option>
                                        </mat-select>
                                      </mat-form-field>
                                    <br><br>
                
                                    <mat-form-field class="example-full-width">
                                        <mat-select placeholder="Priority" name="priority" required>
                                          <mat-option *ngFor="let priority of priorities" [value]="priority.value">
                                          {{priority.viewValue}}
                                          </mat-option>
                                        </mat-select>
                                      </mat-form-field>

                                    <mat-form-field class="example-full-width1">
                                        <mat-select placeholder="Stage" name="stage" required>
                                          <mat-option *ngFor="let stage of stages" [value]="stage.value">
                                          {{stage.viewValue}}
                                          </mat-option>
                                        </mat-select>
                                      </mat-form-field>
                
                                      
                                        <br><br>
                                      
                
                                        <br>    <br>
                
                                <mat-form-field class="example-full-width2">
                                  <input matInput placeholder="Title" id="title"  name="title" value="" required>
                                  
                                </mat-form-field>
                                <br>
                                <br>
                                <!-- description -->
                                <mat-form-field class="example-full-width2">
                                  <textarea matInput placeholder="Description of Issue (5W's)" id="description"  name="description" style="height:100px;" required></textarea>
                                </mat-form-field>
                              
                                 <br><br>
                  
                                <div class="container">Attachment
                                      <button mat-button color="warn" (click)="onClick()">
                                          <mat-icon>file_upload</mat-icon>
                                          {{text}}
                                      </button>
                                  <br/>
                                  <ul>
                                    <li *ngFor="let file of files" [@fadeInOut]="file.state">
                                      <mat-progress-bar [value]="file.progress"></mat-progress-bar>
                                       <span id="file-label">
                                        {{file.data.name}}
                                          <a title="Retry" (click)="retryFile(file)" *ngIf="file.canRetry">
                                            <mat-icon>refresh</mat-icon>
                                          </a>
                                          <a title="Cancel" (click)="cancelFile(file)" *ngIf="file.canCancel">
                                            <mat-icon>cancel</mat-icon>
                                          </a>
                                        </span>
                                      </li>
                                   </ul>
                              
                                  <input type="file" id="fileUpload" name="fileUpload" multiple="multiple" accept="{{accept}}" style="display:none;" />
                                  
                                </div>
                 
                  
                                <br><br>
                                <!-- buttons -->
                                
                              <mat-dialog-actions class="primary" >
                                  <button mat-flat-button color="warn" [routerLink]="['/']" >Cancel</button>&nbsp;
                                  <button type="submit" mat-raised-button color="primary"  >Submit</button>
                              </mat-dialog-actions>
                        </form>
                      </mat-dialog-content>
                    </div>

        
          
          
          </mat-card>
  </mat-tab>

    <mat-tab label="View Issues">
        
          <mat-card  style="margin:20px;" class="mat-elevation-z5" >
              <mat-toolbar color="primary">
                  <mat-toolbar-row>
                            <span class="example-spacer"></span>
                            <mat-icon class="example-icon">speaker_notes</mat-icon>&nbsp;&nbsp;
                            <span>View Issues</span>
                  </mat-toolbar-row>
                </mat-toolbar>            
        
        <br>
        <mat-form-field class="backlog-filter">
            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Quick Search">
          </mat-form-field>
          
          <mat-icon>search</mat-icon>
      
          
          <div class="mat-elevation-z8" class="tablelayout">
                  <table mat-table [dataSource]="dataSource1" matSort>
      
                     
                     
      
                    <!-- Log -->
                      <ng-container matColumnDef="issueid">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header class="headercell"> Issue #  </th>
                      <td mat-cell *matCellDef="let row" > {{row.issueid}} </td>
                      </ng-container>
      
                    <!-- Log Type -->
                      <ng-container matColumnDef="title">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header class="headercell"> Title </th>
                      <td mat-cell *matCellDef="let row"> {{row.title}} </td>
                      </ng-container>
                      
                      <ng-container matColumnDef="issuetype">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header class="headercell"> Issue Type </th>
                          <td mat-cell *matCellDef="let row"> {{row.issuetype}} </td>
                          </ng-container>
                      
                          <ng-container matColumnDef="priority">
                              <th mat-header-cell *matHeaderCellDef mat-sort-header class="headercell"> Priority </th>
                              <td mat-cell *matCellDef="let row"> {{row.priority}} </td>
                              </ng-container>

                              <ng-container matColumnDef="stage">
                                  <th mat-header-cell *matHeaderCellDef mat-sort-header class="headercell"> Stage </th>
                                  <td mat-cell *matCellDef="let row"> {{row.stage}} </td>
                                  </ng-container>

                                  <ng-container matColumnDef="detectedby">
                                      <th mat-header-cell *matHeaderCellDef mat-sort-header class="headercell"> Detected By </th>
                                      <td mat-cell *matCellDef="let row"> {{row.detectedby}} </td>
                                      </ng-container>
      
                    <!-- Created Date -->
                       <ng-container matColumnDef="assignedto">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="headercell"> Assigned To</th>
                        <td mat-cell *matCellDef="let row"> 
                          {{row.assignedto}} </td>
                        </ng-container>

                        <ng-container matColumnDef="status">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header class="headercell"> Status</th>
                            <td mat-cell *matCellDef="let row"> 
                              {{row.status}} </td>
                            </ng-container>
  
                       
                    <tr mat-header-row *matHeaderRowDef="displayedColumns1"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns1;">
                    </tr>
                  </table>
      
        <mat-paginator [pageSizeOptions]="[5, 10, 20, 50, 100]"></mat-paginator>
          
            </div>
          </mat-card>

      
      </mat-tab>
      
    <mat-tab label="Activity Log">

        
          <mat-card  style="margin:20px;" class="mat-elevation-z5" >
              <mat-toolbar color="primary">
                  <mat-toolbar-row>
                            <span class="example-spacer"></span>
                            <mat-icon class="example-icon">speaker_notes</mat-icon>&nbsp;&nbsp;
                            <span>Activity Log</span>
                  </mat-toolbar-row>
                </mat-toolbar>
                <br>
            <div class="setform" [hidden]="submitted">
              <mat-dialog-content class="mat-typography">
        <mat-form-field class="backlog-filter">
            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Quick Search">
          </mat-form-field>
          
          <mat-icon>search</mat-icon>
      
          
          <div class="mat-elevation-z8" class="tablelayout">
                  <table mat-table [dataSource]="dataSource" matSort>
      
                     
                     
      
                    <!-- Log -->
                      
      
                    <!-- Log Type -->
                      <ng-container matColumnDef="log">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header class="headercell"> Activity Log </th>
                      <td mat-cell *matCellDef="let row"> {{row.log}} </td>
                      </ng-container>
                      
                      <ng-container matColumnDef="user">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header class="headercell"> User Id  </th>
                          <td mat-cell *matCellDef="let row" > {{row.user}} </td>
                          </ng-container>
      
                    <!-- Created Date -->
                       <ng-container matColumnDef="createdDate">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="headercell"> Last Update Date</th>
                        <td mat-cell *matCellDef="let row"> 
                          {{row.createdDate}} </td>
                        </ng-container>
  
                       
                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;">
                    </tr>
                  </table>
      
        <mat-paginator [pageSizeOptions]="[25, 100]"></mat-paginator>
          </div>
              </mat-dialog-content>
            </div>
          </mat-card>

      </mat-tab>
      
</mat-tab-group>

    



  
  