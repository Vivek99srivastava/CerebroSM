
<mat-tab-group backgroundColor="none" mat-stretch-tabs>
    <mat-tab label="Ticket Details" class="container" >
        
        <mat-card  style="margin:20px;" class="mat-elevation-z5" >
            <mat-toolbar color="primary">
                <mat-toolbar-row>
                          <span class="example-spacer"></span>
                          <mat-icon class="example-icon">speaker_notes</mat-icon>&nbsp;&nbsp;
                          <span>Ticket Details</span>
                </mat-toolbar-row>
              </mat-toolbar>
              <br> 
            
      <div class="setform" [hidden]="submitted">
      <mat-dialog-content class="mat-typography">
        <form class="example-form" (ngSubmit)="onSubmit()">
                    <!-- feature name -->
                    <mat-form-field class="example-full-width25">
                      <input matInput placeholder="Application / Department" id="appName"  name="appName" value="CEREBRO" readonly >
                      
                    </mat-form-field>
      
                    <!-- select -->
                    <mat-form-field class="example-full-width25">
                      <mat-select placeholder="Business unit" [(ngModel)]="selectedValue" name="businessUnit" required>
                        <mat-option *ngFor="let cerebroTicket of Tickets" [value]="cerebroTicket.value">
                        {{cerebroTicket.viewValue}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                    
    
                    <mat-form-field class="example-full-width25">
                        <mat-select placeholder="Ticket Type" [(ngModel)]="selectedValue" name="ticekttype" required>
                          <mat-option *ngFor="let ticekttype of tickettypes" [value]="ticekttype.value">
                          {{ticekttype.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    
                      <mat-form-field class="example-full-width25">
                          <mat-select placeholder="Sub Category" [(ngModel)]="selectedValue" name="subcategory">
                            <mat-option *ngFor="let subcategory of subcategories" [value]="subcategory.value">
                            {{subcategory.viewValue}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                        <br><br>
                    
                        
                    <mat-form-field class="example-full-width25">
                      <input matInput placeholder="Requestor" id="requestor"  name="requestor" value="AK807X" required >
                      
                    </mat-form-field>
    
                    <mat-form-field class="example-full-width25">
                      <input matInput placeholder="Email" id="email"  name="email" value="ak807x@att.com" required >
                      
                    </mat-form-field>
    
                    <mat-form-field class="example-full-width25">
                      <input matInput placeholder="Alternate contact email" id="alternatecontact"  name="alternatecontact" value="" >
                      
                    </mat-form-field>
    
                    <mat-form-field class="example-full-width25">
                      <input matInput placeholder="Alternate contact phone" id="alternatephone"  name="alternatephone" value="" >
                      
                    </mat-form-field>

                    <br><br>

                    <mat-form-field class="example-full-width25">
                        <mat-select placeholder="Assigned To" [(ngModel)]="selectedValue" name="assignedTo" required>
                          <mat-option *ngFor="let assigned of assignedTo" [value]="assigned.value">
                          {{assigned.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    
                      <mat-form-field class="example-full-width25">
                          <mat-select placeholder="Severity" [(ngModel)]="selectedValue" name="Severity">
                            <mat-option *ngFor="let severity of Severities" [value]="severity.value">
                            {{severity.viewValue}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>

                        
                        &nbsp;<mat-checkbox>Rush ?</mat-checkbox>
                        <br><br>
    
                    <mat-form-field class="example-full-width2">
                      <input matInput placeholder="Title" id="title"  name="title" value="" required>
                      
                    </mat-form-field>
    
                    <br><br>
                    <!-- description -->
                    <mat-form-field class="example-full-width2">
                      <textarea matInput placeholder="Description" id="description"  name="description" style="height: 100px;"  required></textarea>
                    </mat-form-field>
                  
                     <br><br>
      
                    <div class="container">Attachment
                          <button mat-button color="warn" (click)="onClick()">
                              <mat-icon>file_upload</mat-icon>
                              {{text}}
                          </button>
                      <br/>
                      <ul>
                        <li *ngFor="let file of files" [@fadeInOut]="file.state">
                          <mat-progress-bar [value]="file.progress"></mat-progress-bar>
                           <span id="file-label">
                            {{file.data.name}}
                              <a title="Retry" (click)="retryFile(file)" *ngIf="file.canRetry">
                                <mat-icon>refresh</mat-icon>
                              </a>
                              <a title="Cancel" (click)="cancelFile(file)" *ngIf="file.canCancel">
                                <mat-icon>cancel</mat-icon>
                              </a>
                            </span>
                          </li>
                       </ul>
                  
                      <input type="file" id="fileUpload" name="fileUpload" multiple="multiple" accept="{{accept}}" style="display:none;" />
                      
                    </div>
     
      
                    <br><br>
                    <!-- buttons -->
                    
                  <mat-dialog-actions class="primary" >
                      <button mat-flat-button color="primary" [routerLink]="['/']" >Cancel Ticket</button>&nbsp;
                      <button type="submit" mat-raised-button color="primary"  >Update Ticket</button>&nbsp;
                      <button mat-flat-button color="primary" [routerLink]="['/']" >Pause/Resume Ticket</button>&nbsp;
                      <button type="submit" mat-raised-button color="primary"  >Transfer Ticket</button>&nbsp;
                      <button type="submit" mat-raised-button color="primary"  >Move to Next Stage</button>&nbsp;
                      <button type="submit" mat-raised-button color="primary"  >Rename Ticket</button>&nbsp;
                      <button type="submit" mat-raised-button color="primary"  >Approve Ticket</button>&nbsp;
                      <button type="submit" mat-raised-button color="primary"  >Reject Ticket</button>&nbsp;
                  </mat-dialog-actions>
            </form>
          </mat-dialog-content>
        </div>
    
        <!--display success message-->
        <div [hidden]="!submitted">
            <h4>You submitted successfully!</h4>
            <mat-dialog-actions class="buttons">
                <button mat-flat-button color="warn" [routerLink]="['/']" >Create again</button>&nbsp;
                
            </mat-dialog-actions>
          </div>
    <br/>
    
    
      </mat-card>

    </mat-tab>
    
    <mat-tab label="Attachment">
        

          <mat-card  style="margin:20px;" class="mat-elevation-z5" >
              <mat-toolbar color="primary">
                  <mat-toolbar-row>
                            <span class="example-spacer"></span>
                            <mat-icon class="example-icon">speaker_notes</mat-icon>&nbsp;&nbsp;
                            <span>Attachments</span>
                  </mat-toolbar-row>
                </mat-toolbar><br>
            <div class="setform" [hidden]="submitted">
              <mat-dialog-content class="mat-typography">
                <form class="example-form" (ngSubmit)="onSubmit()">
            <div class="container">Attachment
              <button mat-button color="warn" (click)="onClick()">
                  <mat-icon>file_upload</mat-icon>
                  {{text}}
              </button>
          <br/>
          <ul>
            <li *ngFor="let file of files" [@fadeInOut]="file.state">
              <mat-progress-bar [value]="file.progress"></mat-progress-bar>
               <span id="file-label">
                {{file.data.name}}
                  <a title="Retry" (click)="retryFile(file)" *ngIf="file.canRetry">
                    <mat-icon>refresh</mat-icon>
                  </a>
                  <a title="Cancel" (click)="cancelFile(file)" *ngIf="file.canCancel">
                    <mat-icon>cancel</mat-icon>
                  </a>
                </span>
              </li>
           </ul>
      
          <input type="file" id="fileUpload" name="fileUpload" multiple="multiple" accept="{{accept}}" style="display:none;" />
          
        </div>
                </form>
              </mat-dialog-content>
            </div>
            <br><br>
  
            <mat-form-field class="backlog-filter">
              <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Quick Search">
            </mat-form-field>
            
            <mat-icon>search</mat-icon>
        
            
            <div class="mat-elevation-z8" class="tablelayout">
                    <table mat-table [dataSource]="dataSource1" matSort>
        
                       
                       
        
                      <!-- Log -->
                        <ng-container matColumnDef="comments">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="headercell"> Attachment  </th>
                        <td mat-cell *matCellDef="let row" > {{row.comments}}.png </td>
                        </ng-container>
        
                      <!-- Log Type -->
                        <ng-container matColumnDef="user">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="headercell"> User </th>
                        <td mat-cell *matCellDef="let row"> {{row.user}} </td>
                        </ng-container>
                        
                        
        
                      <!-- Created Date -->
                         <ng-container matColumnDef="createdDate">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header class="headercell"> Created Date</th>
                          <td mat-cell *matCellDef="let row"> 
                            {{row.createdDate}} </td>
                          </ng-container>
    
                         
                      <tr mat-header-row *matHeaderRowDef="displayedColumns1"></tr>
                      <tr mat-row *matRowDef="let row; columns: displayedColumns1;">
                      </tr>
                    </table>
        
          <mat-paginator [pageSizeOptions]="[5, 10, 20, 50, 100]"></mat-paginator>
            </div>
            </mat-card>
    </mat-tab>
    <mat-tab label="View Comments">
        
          <mat-card  style="margin:20px;" class="mat-elevation-z5" >
              <mat-toolbar color="primary">
                  <mat-toolbar-row>
                            <span class="example-spacer"></span>
                            <mat-icon class="example-icon">speaker_notes</mat-icon>&nbsp;&nbsp;
                            <span>View Comments</span>
                  </mat-toolbar-row>
                </mat-toolbar><br>
            <div class="setform" [hidden]="submitted">
              <mat-dialog-content class="mat-typography">
        <div class="setform" [hidden]="submitted">
            <mat-dialog-content class="mat-typography">
              <form class="example-form" (ngSubmit)="onSubmit()">
                          <!-- feature name -->
                          <mat-form-field class="example-full-width2">
                              <textarea matInput placeholder="Add Comments" id="description"  name="description" style="height: 50px;"  required></textarea>
                            </mat-form-field>
                          
                             <br><br>

                             <mat-dialog-actions class="primary" >
                                <button mat-flat-button color="primary" [routerLink]="['/']" >Reset</button>&nbsp;
                                <button type="submit" mat-raised-button color="primary"  >Add Comment</button>&nbsp;
                                
                            </mat-dialog-actions>
              </form>
            </mat-dialog-content>
        </div>

        <br><br>
        <mat-form-field class="backlog-filter">
            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Quick Search">
          </mat-form-field>
          
          <mat-icon>search</mat-icon>
      
          
          <div class="mat-elevation-z8" class="tablelayout">
                  <table mat-table [dataSource]="dataSource1" matSort>
      
                     
                     
      
                    <!-- Log -->
                      <ng-container matColumnDef="comments">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header class="headercell"> Comments  </th>
                      <td mat-cell *matCellDef="let row" > {{row.comments}} </td>
                      </ng-container>
      
                    <!-- Log Type -->
                      <ng-container matColumnDef="user">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header class="headercell"> User </th>
                      <td mat-cell *matCellDef="let row"> {{row.user}} </td>
                      </ng-container>
                      
                      
      
                    <!-- Created Date -->
                       <ng-container matColumnDef="createdDate">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="headercell"> Created Date</th>
                        <td mat-cell *matCellDef="let row"> 
                          {{row.createdDate}} </td>
                        </ng-container>
  
                       
                    <tr mat-header-row *matHeaderRowDef="displayedColumns1"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns1;">
                    </tr>
                  </table>
      
        <mat-paginator [pageSizeOptions]="[5, 10, 20, 50, 100]"></mat-paginator>
          </div>
              </mat-dialog-content>
            </div>
          </mat-card>

      
      </mat-tab>
      
    <mat-tab label="Log History">

        
          <mat-card  style="margin:20px;" class="mat-elevation-z5" >
              <mat-toolbar color="primary">
                  <mat-toolbar-row>
                            <span class="example-spacer"></span>
                            <mat-icon class="example-icon">speaker_notes</mat-icon>&nbsp;&nbsp;
                            <span>Log History</span>
                  </mat-toolbar-row>
                </mat-toolbar>
                <br>
            <div class="setform" [hidden]="submitted">
              <mat-dialog-content class="mat-typography">
        <mat-form-field class="backlog-filter">
            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Quick Search">
          </mat-form-field>
          
          <mat-icon>search</mat-icon>
      
          
          <div class="mat-elevation-z8" class="tablelayout">
                  <table mat-table [dataSource]="dataSource" matSort>
      
                     
                     
      
                    <!-- Log -->
                      <ng-container matColumnDef="user">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header class="headercell"> User  </th>
                      <td mat-cell *matCellDef="let row" > {{row.user}} </td>
                      </ng-container>
      
                    <!-- Log Type -->
                      <ng-container matColumnDef="log">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header class="headercell"> Log </th>
                      <td mat-cell *matCellDef="let row"> {{row.log}} </td>
                      </ng-container>
                      
                      
      
                    <!-- Created Date -->
                       <ng-container matColumnDef="createdDate">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="headercell"> Created Date</th>
                        <td mat-cell *matCellDef="let row"> 
                          {{row.createdDate}} </td>
                        </ng-container>
  
                       
                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;">
                    </tr>
                  </table>
      
        <mat-paginator [pageSizeOptions]="[25, 100]"></mat-paginator>
          </div>
              </mat-dialog-content>
            </div>
          </mat-card>

      </mat-tab>
      
</mat-tab-group>

    



  
  